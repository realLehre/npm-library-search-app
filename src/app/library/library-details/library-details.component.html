<div class="lib-details-container" fxFlex>
  <div class="lib" *ngIf="!isLoading">
    <div class="lib-name-info" fxLayout fxLayoutAlign="space-between center">
      <div class="lib-name-desc">
        <div class="lib-name">
          {{ libName }} <span class="latest-v">{{ libCurrentVersion }}</span>
        </div>
        <div class="lib-desc">{{ lib.description }}</div>
      </div>
    </div>

    <div class="lib-actions" fxLayout fxLayoutGap="20px">
      <a [href]="libGithub" class="github" target="_blank">
        <i class="fa-brands fa-github"></i
      ></a>
      <a [href]="libNpm" class="npm" target="_blank"
        ><i class="fa-brands fa-npm"></i
      ></a>
    </div>

    <div class="lib-versions">
      <div class="lib-versions-header">Versions</div>

      <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let element">{{ element.date }}</td>
        </ng-container>

        <ng-container matColumnDef="version">
          <th mat-header-cell *matHeaderCellDef>Version</th>
          <td mat-cell *matCellDef="let element">{{ element.version }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <mat-paginator
      [pageSizeOptions]="[20, 40, 80, 100, 200, 400]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>

    <div class="download-chart">
      <app-library-download-chart></app-library-download-chart>
    </div>
  </div>
</div>
